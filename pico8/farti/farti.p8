pico-8 cartridge // http://www.pico-8.com
version 36
__lua__
-- farti

function _init()
end

function _draw()
	cls()
	draw_player()
end

function _update60()
	update_player()
end
-->8
-- player

px=64-8
py=64-8
pa=0 -- player angle
pf=false -- player impulse

function update_player()
	-- first update state considering
	-- input
	local da = 0
	if btnp(➡️) then
		da = -45
	elseif btnp(⬅️) then
	 da = 45
	end
	
	pa += da
	
	if pa < 0 then
		pa = 360 + pa
	end
	
	if pa > 360 then
		pa -= 360
	end
	
	pf = btn(❎)
	
	-- update player state with new
	-- input
end

function draw_player()
	local psp = 1
	local flipx = false
	local flipy = false
	
	if pa == 0 or 
				pa == 360 then
		-- do nothing
	elseif pa == 45 then
		psp = 3
	elseif pa == 90 then
		psp = 5
	elseif pa == 135 then
		psp = 3
		flipx = true
	elseif pa == 180 then
		flipx = true
	elseif pa == 225 then
		psp = 3
		flipx = true
		flipy = true
	elseif pa == 270 then
		psp = 5
		flipy = true
	elseif pa == 315 then
		psp = 3
		flipy = true
	end
	
	local impulse = 0 
	if pf then
		impulse = 1
	end
	
	spr(psp + impulse,
					px,
					py,
					1,1,flipx,flipy)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000005555000055550000555500005555000055550000555500000000000000000000000000000000000000000000000000000000000000000000000000
00700700055555500555555005575750055757500575575005755750000000000000000000000000000000000000000000000000000000000000000000000000
00077000055575709555757005555550055555500555555005555550000000000000000000000000000000000000000000000000000000000000000000000000
00077000055555509555555005555550055555500555555005555550000000000000000000000000000000000000000000000000000000000000000000000000
00700700055555500555555005555550055555500555555005555550000000000000000000000000000000000000000000000000000000000000000000000000
00000000005555000055550000555500095555000055550000555500000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000099000000000000000099000000000000000000000000000000000000000000000000000000000000000000000000000
